!function(b){b("#gray-switch");b.mourn=function(i){var o=b.extend({ribbon:!0,ribbonSize:"large",ribbonPosition:"top-right",gray:!0,grayScale:1},i);if(o.gray){grayscale=100*o.grayScale+"%";var t={filter:"gray",filter:"grayscale("+grayscale+")","-moz-filter":"grayscale("+grayscale+")","-webkit-filter":"grayscale("+grayscale+")"};b("html").css(t),b("#gray-switch").size()}else{t={filter:"initial","-moz-filter":"initial","-webkit-filter":"initial"};b("html").css(t)}if(o.ribbon){if(b(".mourn-ribbon").remove(),b("body").append('<div class="mourn-ribbon '+o.ribbonSize+'"><div class="ribbon-top"></div><div class="ribbon-wing ribbon-left"><div class="ribbon-outside"><div class="ribbon-content"></div><div class="ribbon-bottom"></div></div><div class="ribbon-inside"><div class="ribbon-content"></div><div class="ribbon-bottom"></div></div></div><div class="ribbon-wing ribbon-right"><div class="ribbon-outside"><div class="ribbon-content"></div><div class="ribbon-bottom"></div></div><div class="ribbon-inside"><div class="ribbon-content"></div><div class="ribbon-bottom"></div></div></div></div>'),"top-right"==o.ribbonPosition)t={position:"fixed",right:0,top:0};else if("top-left"==o.ribbonPosition)t={position:"fixed",left:0,top:0};else if("bottom-right"==o.ribbonPosition)t={position:"fixed",bottom:0,right:0};else if("bottom-left"==o.ribbonPosition)t={position:"fixed",bottom:0,left:0};b(".mourn-ribbon").css(t)}}}(jQuery);
